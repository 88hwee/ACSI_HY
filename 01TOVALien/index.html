 ```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Local Hero: Alien Defense - ATARI EDITION</title>
  <style>
    body { margin: 0; background: #000; color: #fff; font-family: "Courier New", Courier, monospace; overflow: hidden; }
    #game-stage { position: relative; width: 100vw; height: 100vh; background: linear-gradient(to bottom, #000033 0%, #000 100%); }

    #hud {
      position: absolute; top: 0; left: 0; width: 100%;
      display: flex; justify-content: space-around; padding: 15px;
      background: rgba(0,0,0,0.8); border-bottom: 2px solid #00ff00; z-index: 10;
      box-sizing: border-box;
    }
    .stat { font-size: 18px; color: #00ff00; }

    #hero {
      position: absolute; bottom: 20px;
      width: 60px; height: 60px; font-size: 50px; text-align: center;
      transform: translateX(-50%);
      z-index: 5; user-select: none;
    }
    #hero::after { content: "üõ°Ô∏è"; }

    .alien {
      position: absolute; width: 60px; height: 60px;
      font-size: 40px; text-align: center;
      z-index: 4; user-select: none;
      transform: translateX(-50%);
    }
    .alien::after { content: "üõ∏"; }

    .laser {
      position: absolute; width: 4px; height: 20px;
      background: #00ff00; box-shadow: 0 0 10px #00ff00; z-index: 3;
      transform: translateX(-50%);
    }

    #mcq-modal {
      display: none;
      position: absolute; top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.95);
      border: 3px solid #00ff00;
      padding: 20px; width: 90%; max-width: 600px;
      z-index: 100; border-radius: 15px; text-align: center;
      box-sizing: border-box;
    }
    .option-btn {
      display: block; width: 100%;
      margin: 8px 0; padding: 12px;
      background: #111; color: #00ff00;
      border: 1px solid #00ff00; cursor: pointer;
      font-size: 16px; border-radius: 5px; transition: 0.2s;
    }
    .option-btn:hover { filter: brightness(1.2); }
    .option-btn:disabled { cursor: default; opacity: 0.9; }

    .wrong-highlight { background: #aa0000 !important; color: #fff !important; border-color: red !important; }
    .correct-highlight { background: #00aa00 !important; color: #fff !important; border-color: #00ff00 !important; }

    #end-screen {
      display: none;
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: #000;
      flex-direction: column; align-items: center; justify-content: center;
      z-index: 600; gap: 10px; text-align: center;
      padding: 20px; box-sizing: border-box;
    }
    #end-screen button { padding: 15px 30px; background: #00ff00; border: none; cursor: pointer; font-weight: bold; }
  </style>
</head>
<body>
  <div id="game-stage" tabindex="0">
    <div id="hud">
      <div class="stat">TIME: <span id="timer">90</span>s</div>
      <div class="stat">SCORE: <span id="score">0</span></div>
      <div class="stat">LIVES: <span id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span></div>
    </div>

    <div id="hero"></div>

    <div id="mcq-modal">
      <h3 id="question-text"></h3>
      <div id="options-container"></div>
      <div id="feedback" style="margin-top:12px; color:#00ff00; display:none;"></div>
    </div>

    <div id="end-screen">
      <h1 id="end-title">TIME UP</h1>
      <h2 id="final-score"></h2>
      <button id="restart-btn">RESTART</button>
    </div>
  </div>

  <script>
    // ====== SETTINGS ======
    const GAME_SECONDS = 90;      // ‚úÖ player only dies when this hits 0
    const START_LIVES = 5;        // ‚úÖ still show 5 lives (but never game-over early)

    const SPAWN_EVERY_MS = 900;
    const MAX_ALIENS = 6;

    const FIRE_COOLDOWN_MS = 180;

    // ====== QUESTIONS (keep yours / add more) ======
    const questions = [
      { q: "Which three countries formed the Triple Alliance?", a: "Germany, Austria-Hungary, Italy", o: ["Britain, France, Russia", "Germany, Austria-Hungary, Italy", "Germany, Russia, Italy", "Britain, Italy, Japan"] },
      { q: "The Triple Entente was a reaction to which alliance?", a: "The Triple Alliance", o: ["The League of Nations", "The Triple Alliance", "The Central Powers", "The Axis Powers"] },
      { q: "What term described Kaiser Wilhelm II‚Äôs fear of being surrounded?", a: "Encirclement", o: ["Isolationism", "Annexation", "Encirclement", "Entrenchment"] },
      { q: "Which country had the largest military personnel (6.0m) by 1914?", a: "Russia", o: ["Germany", "France", "Russia", "Britain"] },
      { q: "Which territory's annexation in 1908 caused major tension?", a: "Bosnia", o: ["Serbia", "Bosnia", "Sarajevo", "Bulgaria"] },
      { q: "Who was assassinated in Sarajevo, sparking WWI?", a: "Archduke Franz Ferdinand", o: ["Kaiser Wilhelm II", "Archduke Franz Ferdinand", "Tsar Nicholas II", "Woodrow Wilson"] },
      { q: "What was Germany‚Äôs primary naval goal under Wilhelm II?", a: "To rival Britain's navy", o: ["To protect merchant ships", "To rival Britain's navy", "To explore the Atlantic", "To transport troops"] },
      { q: "Which country switched from the Triple Alliance to the Entente?", a: "Italy", o: ["Japan", "Italy", "Russia", "Ottoman Empire"] },
      { q: "What was the estimated total death toll of WWI?", a: "40 million", o: ["9 million", "20 million", "40 million", "60 million"] },
      { q: "Which treaty allowed Russia to exit the war early?", a: "Treaty of Brest-Litovsk", o: ["Versailles", "St. Germain", "Brest-Litovsk", "Trianon"] },
      { q: "In the Russian Civil War, the 'Reds' represented whom?", a: "The Bolshevik Party", o: ["Tsar supporters", "The Bolshevik Party", "Foreign troops", "Landowners"] },
      { q: "Who were the 'Whites' in the Russian Civil War?", a: "Anti-Bolshevik movements", o: ["The Red Army", "Anti-Bolshevik movements", "French allies", "German forces"] },
      { q: "Which country emerged from WWI as the world's greatest power?", a: "United States", o: ["Britain", "France", "United States", "Japan"] },
      { q: "What was Woodrow Wilson‚Äôs proposal for peace called?", a: "The Fourteen Points", o: ["The Atlantic Charter", "The Fourteen Points", "The League Covenant", "The Young Plan"] },
      { q: "Who were the 'Big Three' at the Paris Peace Conference?", a: "USA, Britain, France", o: ["Britain, France, Italy", "USA, Britain, France", "USA, Britain, Germany", "France, Italy, Russia"] },
      { q: "Who was the Prime Minister of France during the conference?", a: "Georges Clemenceau", o: ["David Lloyd George", "Georges Clemenceau", "Woodrow Wilson", "Vladimir Lenin"] },
      { q: "What is an armistice?", a: "Agreement to stop fighting", o: ["Peace treaty", "Agreement to stop fighting", "Declaration of war", "Alliance"] },
      { q: "Why was France most affected among the victors?", a: "Industrial regions devastated", o: ["Lost its navy", "Industrial regions devastated", "Paid reparations", "Overthrown"] },
      { q: "What does the term 'Tsar' refer to?", a: "Emperor of Russia", o: ["Elected leader", "Emperor of Russia", "Military commander", "Communist official"] },
      { q: "What is the definition of a dictator?", a: "One with complete power", o: ["Shared power", "One with complete power", "Temporary leader", "Ceremonial head"] },
      { q: "How much in reparations did Russia pay Germany in 1918?", a: "6 billion marks", o: ["1 billion marks", "6 billion marks", "10 billion marks", "40 million"] },
      { q: "Who believed the state should run all land and industry?", a: "The Bolsheviks", o: ["The Whites", "The Bolsheviks", "The Triple Entente", "The Great Powers"] },
      { q: "What happened to the Kaiser at the end of the war?", a: "Overthrown in revolution", o: ["Promoted", "Overthrown in revolution", "Became US ally", "Led the League"] },
      { q: "How many republics made up the USSR by 1922?", a: "15", o: ["5", "10", "15", "20"] },
      { q: "What does 'Bolshevik' mean in Russian?", a: "Majority", o: ["Minority", "Majority", "Revolution", "Peace"] },
      { q: "What was the primary aim of the Paris Peace Conference?", a: "Officially end WWI", o: ["Start a new war", "Officially end WWI", "Rebuild German navy", "Annex Russia"] },
      { q: "Why did Japan's wealth increase during WWI?", a: "No domestic war damage", o: ["Conquered Russia", "No domestic war damage", "Led the Big Three", "Germany paid them"] },
      { q: "Which was NOT part of the Triple Entente?", a: "Italy", o: ["Britain", "France", "Italy", "Russia"] },
      { q: "How much of its population did Russia lose at Brest-Litovsk?", a: "One-third", o: ["One-tenth", "One-quarter", "One-third", "One-half"] },
      { q: "What resource did Russia lose significant stores of in 1918?", a: "Oil, iron, and coal", o: ["Gold", "Oil, iron, and coal", "Timber", "Silk"] },
      { q: "Why did the USA enter the war in 1917?", a: "To support the Entente", o: ["Annex land", "To support the Entente", "Support Lenin", "Colonize Africa"] },
      { q: "Who were the 'Great Powers' of the 19th century?", a: "Britain, France, Germany", o: ["Serbia, Belgium", "Britain, France, Germany", "Spain, Portugal", "Greece, Bulgaria"] },
      { q: "What caused the naval arms race?", a: "German naval expansion", o: ["German naval expansion", "Russia in Mediterranean", "Italy in Atlantic", "Bosnian tension"] },
      { q: "Who was overthrown in the March 1917 revolution?", a: "Tsar Nicholas II", o: ["Lenin", "Tsar Nicholas II", "Wilhelm II", "Wilson"] },
      { q: "What was the 'Red Army'?", a: "Bolshevik military", o: ["Tsarist military", "Bolshevik military", "US forces", "German guard"] },
      { q: "Which countries faced the worst food shortages?", a: "Britain and France", o: ["USA", "Japan", "Britain and France", "Portugal"] },
      { q: "Wilson wanted the world to be safe for what?", a: "Every peace-loving nation", o: ["Empires", "Every peace-loving nation", "Dictators", "Alliances"] },
      { q: "Which alliance was NOT a legally binding commitment?", a: "Triple Entente", o: ["Triple Alliance", "Triple Entente", "League of Nations", "USSR"] },
      { q: "What happened to Austria-Hungary after the war?", a: "Collapsed into smaller countries", o: ["More powerful", "Collapsed into smaller countries", "Annexed USA", "Joined USSR"] },
      { q: "Who succeeded Wilhelm I in 1888?", a: "Wilhelm II", o: ["Franz Joseph", "Wilhelm II", "Nicholas II", "Lloyd George"] },
      { q: "What was the purpose of the Washington Naval Conference?", a: "Limit the size of navies", o: ["Build more ships", "Limit the size of navies", "Trade routes", "Declare war"] },
      { q: "The 'Big Three' leaders were all what?", a: "Democratically elected", o: ["Dictators", "Democratically elected", "Monarchs", "Generals"] },
      { q: "French sentiment toward the German treaty was what?", a: "It should be harsh", o: ["Lenient", "It should be harsh", "Keep all land", "Russia should pay"] },
      { q: "Which country joined the war later for benefits?", a: "Italy", o: ["Russia", "Italy", "Germany", "France"] },
      { q: "The Bolsheviks believed property should be what?", a: "Run by the state", o: ["Protected", "Run by the state", "Given to Kaiser", "Sold to USA"] },
      { q: "Why did the West support the 'Whites'?", a: "Opposed communism", o: ["Help Germany", "Opposed communism", "Annex Siberia", "Bolshevik allies"] },
      { q: "What was the 'spark' for WWI?", a: "Franz Ferdinand assassination", o: ["New ships", "Franz Ferdinand assassination", "Dawes Plan", "USSR creation"] },
      { q: "Japan protected colonies for which country in 1914?", a: "Britain", o: ["Germany", "Britain", "Russia", "France"] },
      { q: "What was the immediate impact of the Armistice?", a: "Stopped fighting temporarily", o: ["Ended war officially", "Stopped fighting temporarily", "Created League", "Germany won"] },
      { q: "The League of Nations was an attempt to do what?", a: "Make and keep peace", o: ["Make and keep peace", "Triple Alliance", "Invade Russia", "Overthrow USA"] }
    ];

    // ====== HELPERS ======
    function shuffle(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }
    function escapeHTML(s) {
      return String(s)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    // ‚úÖ random order each run
    const qPool = shuffle([...questions]);

    // ====== DOM ======
    const stage = document.getElementById("game-stage");
    const hero = document.getElementById("hero");
    const restartBtn = document.getElementById("restart-btn");
    const feedbackEl = document.getElementById("feedback");

    // ====== STATE ======
    let currentHeroPos = 50;
    let score = 0;
    let lives = START_LIVES;      // can go down visually, but never triggers game over early
    let timeLeft = GAME_SECONDS;

    let gameRunning = true;
    let pausedForMCQ = false;
    let qIndex = 0;

    const aliens = new Set();
    let spawnTimer = null;
    let lastFireAt = 0;

    // ====== AUDIO ======
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playAtariSound(freq, type, duration) {
      try {
        if (audioCtx.state === "suspended") audioCtx.resume();
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = type;
        osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + duration);
        osc.start();
        osc.stop(audioCtx.currentTime + duration);
      } catch (_) {}
    }

    // ====== INPUT ======
    window.addEventListener("keydown", (e) => {
      if (!gameRunning) return;
      if (["ArrowLeft", "ArrowRight", " ", "Spacebar"].includes(e.key)) e.preventDefault();
      if (pausedForMCQ) return;

      if (e.key === "ArrowLeft") moveHero(-5);
      if (e.key === "ArrowRight") moveHero(5);
      if (e.key === " " || e.key === "Spacebar") fireLaser();
    }, { passive: false });

    function moveHero(delta) {
      currentHeroPos = Math.max(5, Math.min(95, currentHeroPos + delta));
      hero.style.left = currentHeroPos + "%";
    }

    // ====== LASER ======
    function fireLaser() {
      const now = Date.now();
      if (now - lastFireAt < FIRE_COOLDOWN_MS) return;
      lastFireAt = now;

      playAtariSound(440, "square", 0.08);

      const laser = document.createElement("div");
      laser.className = "laser";
      laser.style.left = currentHeroPos + "%";
      laser.style.bottom = "80px";
      stage.appendChild(laser);

      const speed = 14;
      const move = setInterval(() => {
        if (!gameRunning || pausedForMCQ) { clearInterval(move); laser.remove(); return; }

        const btm = parseInt(laser.style.bottom, 10);
        const next = btm + speed;
        laser.style.bottom = next + "px";

        for (const alien of aliens) {
          if (alien && isColliding(laser, alien)) {
            clearInterval(move);
            laser.remove();
            onAlienHit(alien);
            return;
          }
        }

        if (next > window.innerHeight + 40) {
          clearInterval(move);
          laser.remove();
        }
      }, 20);
    }

    // ====== ALIENS ======
    function spawnAlien() {
      if (!gameRunning || pausedForMCQ) return;
      if (aliens.size >= MAX_ALIENS) return;

      const alien = document.createElement("div");
      alien.className = "alien";
      alien.style.left = (Math.random() * 90 + 5) + "%";
      alien.style.top = "90px";
      stage.appendChild(alien);
      aliens.add(alien);

      const fallSpeed = 2 + Math.random() * 2.2;
      const fall = setInterval(() => {
        if (!gameRunning) { clearInterval(fall); return; }
        if (pausedForMCQ) return;

        const top = alien.offsetTop;
        alien.style.top = (top + fallSpeed) + "px";

        if (top > window.innerHeight - 120) {
          clearInterval(fall);
          if (alien.isConnected) alien.remove();
          aliens.delete(alien);

          // ‚úÖ lose lives, but NEVER end the game early
          lives = Math.max(0, lives - 1);
          playAtariSound(110, "sawtooth", 0.2);
          updateStats();
        }
      }, 20);

      alien.dataset.fallId = String(fall);
    }

    function onAlienHit(alien) {
      if (!alien || !alien.isConnected) return;
      alien.remove();
      aliens.delete(alien);

      playAtariSound(880, "square", 0.12);
      pausedForMCQ = true;
      showMCQ();
    }

    // ====== MCQ ======
    function showMCQ() {
      const modal = document.getElementById("mcq-modal");
      const container = document.getElementById("options-container");

      feedbackEl.style.display = "none";
      feedbackEl.textContent = "";

      const qData = qPool[qIndex % qPool.length];
      document.getElementById("question-text").innerText = qData.q;
      container.innerHTML = "";

      const optionsShuffled = shuffle([...qData.o]);
      optionsShuffled.forEach(opt => {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.innerText = opt;

        btn.onclick = () => {
          const allBtns = container.querySelectorAll("button");
          allBtns.forEach(b => b.disabled = true);

          if (opt === qData.a) {
            btn.classList.add("correct-highlight");
            score += 100;
            playAtariSound(600, "square", 0.08);
          } else {
            btn.classList.add("wrong-highlight");
            lives = Math.max(0, lives - 1); // ‚úÖ still lose life, but no early death
            playAtariSound(150, "sawtooth", 0.25);

            const correctBtn = Array.from(allBtns).find(b => b.innerText === qData.a);
            if (correctBtn) correctBtn.classList.add("correct-highlight");

            feedbackEl.style.display = "block";
            feedbackEl.innerHTML = `Correct answer: <strong>${escapeHTML(qData.a)}</strong>`;
          }

          setTimeout(() => {
            qIndex++;
            updateStats();
            modal.style.display = "none";
            pausedForMCQ = false;
          }, 900);
        };

        container.appendChild(btn);
      });

      modal.style.display = "block";
    }

    // ====== COLLISION ======
    function isColliding(a, b) {
      const r1 = a.getBoundingClientRect();
      const r2 = b.getBoundingClientRect();
      return !(r1.right < r2.left || r1.left > r2.right || r1.bottom < r2.top || r1.top > r2.bottom);
    }

    // ====== HUD ======
    function updateStats() {
      document.getElementById("score").innerText = score;
      document.getElementById("timer").innerText = timeLeft;
      document.getElementById("lives").innerText = "‚ù§Ô∏è".repeat(lives);
    }

    // ====== TIMER (‚úÖ ONLY END WHEN TIME IS UP) ======
    const timerInt = setInterval(() => {
      if (!gameRunning) return;
      if (pausedForMCQ) return;

      timeLeft--;
      if (timeLeft < 0) timeLeft = 0;
      updateStats();

      if (timeLeft <= 0) endGame("TIME UP");
    }, 1000);

    // ====== END GAME ======
    function endGame(title) {
      gameRunning = false;
      pausedForMCQ = true;

      if (spawnTimer) clearInterval(spawnTimer);

      for (const alien of aliens) {
        if (alien && alien.isConnected) alien.remove();
      }
      aliens.clear();

      document.getElementById("mcq-modal").style.display = "none";

      document.getElementById("end-screen").style.display = "flex";
      document.getElementById("end-title").innerText = title;
      document.getElementById("final-score").innerText = "SCORE: " + score;
    }

    restartBtn.addEventListener("click", () => location.reload());

    // ====== START ======
    function startGame() {
      hero.style.left = currentHeroPos + "%";
      lives = START_LIVES;
      timeLeft = GAME_SECONDS;
      updateStats();

      spawnTimer = setInterval(() => {
        if (gameRunning && !pausedForMCQ) spawnAlien();
      }, SPAWN_EVERY_MS);

      for (let i = 0; i < 3; i++) spawnAlien();
    }

    startGame();
  </script>
</body>
</html>
```

